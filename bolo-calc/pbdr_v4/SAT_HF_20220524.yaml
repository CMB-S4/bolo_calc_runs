version: {date: 20220524, name: 'SAT_HF'}

sim_config: {nsky_sim: 0, ndet_sim: 0, save_summary: True, save_sim: True, config_dir: config, freq_resol: 0.1}

# We set dust and synchrotron very small so they are ignored.  Zero eventually throws an error.
universe:
  dust: {spectral_index: 1.5, amplitude: 1e-10, scale_frequency: 353.0, scale_temperature: 19.7}
  synchrotron:  {spectral_index: -3.0, amplitude: 1e-10, scale_frequency: 30.0}
  atmosphere: {atm_model_file: atm_20201217.hdf5}

instrument:
  site : Pole
  sky_temp : None
  elevation : 50.0
  pwv : 321.0  # microns, to match the hdf5 file.
  obs_time : 3.0
  sky_fraction : 0.028
  obs_effic : 1.0
  NET : 1.0
  readout: #ignore these for now
    read_noise_frac: None
    dwell_time: None
    revisit_rate: None
    squid_nei: None
    nyquist_inductance: None
  optics_config:
    default: {temperature: 273.0, reflection: 0.0, scatter_frac: 0.0, spillover: 0.0, absorption: 0.0}
    elements:
      baffle: {absorption: 0.01}
      window:    {obj_type: Dielectric, reflection: 0.01, thickness: 0.03, index: 1.525, loss_tangent: 3.0E-4}
      # IR shaders:  emissivity proportional to frequency, pinned to 90GHz value derived from Bicep3
      RTMLI_10: {temperature: 150.0, absorption: [0.00435, 0.0083 ]}
      alumina_filt: {obj_type: Dielectric, temperature: 50.0, reflection: 0.02, thickness: 0.010, index: 3.1, loss_tangent: 3.0E-4}
      # Nylon loss just a wild guess!
      nylon_filt:   {temperature:  4.0, reflection: 0.01, absorption: [0.0698, 0.123 ]}
      # Optical design Stark 11.5
      # The the maximum thickness of the objective lens is 71mm.  The effective thickness for loss calculations will be
      # less than this, as the field from each detector is spread over the aperture.  We use a guess of 80% of the maximum.
      lens1:        {obj_type: Dielectric, temperature:  1.0, reflection: 0.02, thickness: 0.057,  index: 1.52, loss_tangent: 1.5E-4}
      # assume same spillover as MF_2
      ApStop:       {temperature: 1.0, spillover:[0.125, 0.079]}
      # The the maximum thickness of the objective lens is 53mm.  The effective thickness for loss calculations will be
      # less than this, as individual detectors illuminate different portions of the lens.  We use a guess of 90% of the maximum.
      lens2:        {obj_type: Dielectric, temperature:  1.0, reflection: 0.02, thickness: 0.048,  index: 1.52, loss_tangent: 1.5E-4}
      lowpass:      {temperature: 0.1, absorption: 0.01, reflection: 0.05}
  channel_default:
    band_response: 1.0
    num_wafer_per_optics_tube: 1
    num_optics_tube: 1
    waist_factor: 3.0
    psat: None
    psat_factor: 2.5
    carrier_index: 2.7  # this is beta = n-1.  (This was set incorrectly in JR's original BoloCalc runs.)
    Tc: 0.16
    Tc_fraction: None
    G: None
    Flink: None
    Yield: 0.8
    response_factor: 1.
    bolo_resistance: 0.008  # as biased in operation, ie less than R_normal
    read_frac: 0.05
  camera_config:
    default: {boresite_elevation: 0.0, optical_coupling: 1.0, f_number: 1.45, bath_temperature: 0.1}
    elements:
      cam_1:
        skip_optical_elements: []
        chan_config:
          elements:
            HF_1:  {band_center: 227.0, fractional_bandwidth: 0.256, pixel_size: 5.2,  num_det_per_water: 938, det_eff: 0.67}
            HF_2:  {band_center: 285.5, fractional_bandwidth: 0.207, pixel_size: 5.2,  num_det_per_water: 938, det_eff: 0.66}
